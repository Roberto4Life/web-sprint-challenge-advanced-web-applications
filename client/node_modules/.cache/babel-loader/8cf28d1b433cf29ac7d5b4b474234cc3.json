{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Luigi\\\\Lambda\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login(props) {\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axiosWithAuth().post('/api/login', user).then(res => {\n      console.log('login', res);\n      setIsLoading(false);\n      localStorage.setItem(\"authToken\", res.data.payload);\n      history.push(\"/friends\");\n    }).catch(error => {\n      setIsLoading(false);\n      console.log('Error', error);\n    });\n    setUser({});\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, isLoading ? React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Loading\") : React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Username:\", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: event => handleChange(event),\n    value: user.username,\n    placeholder: \"Username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Password:\", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: event => handleChange(event),\n    value: user.password,\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Submit!\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Luigi/Lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axiosWithAuth","useHistory","Login","props","user","setUser","username","password","isLoading","setIsLoading","history","handleChange","e","target","name","value","handleLogin","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","push","catch","error","event"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAClB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC;AAC7BO,IAAAA,QAAQ,EAAE,EADmB;AAE7BC,IAAAA,QAAQ,EAAE;AAFmB,GAAD,CAAhC;AAKA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;AAEA,QAAMW,OAAO,GAAGT,UAAU,EAA1B;;AAEA,QAAMU,YAAY,GAAGC,CAAC,IAAI;AACtBP,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAW,OAACQ,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAArC,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMC,WAAW,GAAGJ,CAAC,IAAI;AACrBA,IAAAA,CAAC,CAACK,cAAF;AACAR,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAT,IAAAA,aAAa,GACRkB,IADL,CACU,YADV,EACwBd,IADxB,EAEKe,IAFL,CAEUC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB;AACAX,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAc,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCJ,GAAG,CAACK,IAAJ,CAASC,OAA3C;AACAhB,MAAAA,OAAO,CAACiB,IAAR,CAAa,UAAb;AACH,KAPL,EAQKC,KARL,CAQWC,KAAK,IAAI;AACZpB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBO,KAArB;AACH,KAXL;AAYAxB,IAAAA,OAAO,CAAC,EAAD,CAAP;AACH,GAhBD;;AAkBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKG,SAAS,GACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADM,GAGF;AAAM,IAAA,QAAQ,EAAEQ,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AACQ,IAAA,IAAI,EAAC,MADb;AAEQ,IAAA,IAAI,EAAC,UAFb;AAGQ,IAAA,QAAQ,EAAEc,KAAK,IAAInB,YAAY,CAACmB,KAAD,CAHvC;AAIQ,IAAA,KAAK,EAAE1B,IAAI,CAACE,QAJpB;AAKQ,IAAA,WAAW,EAAC,UALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CADJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AACQ,IAAA,IAAI,EAAC,UADb;AAEQ,IAAA,IAAI,EAAC,UAFb;AAGQ,IAAA,QAAQ,EAAEwB,KAAK,IAAInB,YAAY,CAACmB,KAAD,CAHvC;AAIQ,IAAA,KAAK,EAAE1B,IAAI,CAACG,QAJpB;AAKQ,IAAA,WAAW,EAAC,UALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CAZJ,EAsBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,EAuBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvBJ,CAJZ,CADJ;AAiCH;;AAED,eAAeL,KAAf","sourcesContent":["\r\nimport React, { useState } from \"react\";\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n    const [user, setUser] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = e => {\r\n        setUser({ ...user, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleLogin = e => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        axiosWithAuth()\r\n            .post('/api/login', user)\r\n            .then(res => {\r\n                console.log('login', res)\r\n                setIsLoading(false);\r\n                localStorage.setItem(\"authToken\", res.data.payload);\r\n                history.push(\"/friends\");\r\n            })\r\n            .catch(error => {\r\n                setIsLoading(false)\r\n                console.log('Error', error)\r\n            })\r\n        setUser({})\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            {isLoading ? (\r\n                <h2>Loading</h2>\r\n            ) : (\r\n                    <form onSubmit={handleLogin}>\r\n                        <label>\r\n                            Username:\r\n                        <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                onChange={event => handleChange(event)}\r\n                                value={user.username}\r\n                                placeholder='Username'\r\n                            />\r\n                        </label>\r\n                        <br />\r\n                        <label>\r\n                            Password:\r\n                        <input\r\n                                type='password'\r\n                                name=\"password\"\r\n                                onChange={event => handleChange(event)}\r\n                                value={user.password}\r\n                                placeholder='Password'\r\n                            />\r\n                        </label>\r\n                        <br />\r\n                        <button>Submit!</button>\r\n                    </form>\r\n                )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}