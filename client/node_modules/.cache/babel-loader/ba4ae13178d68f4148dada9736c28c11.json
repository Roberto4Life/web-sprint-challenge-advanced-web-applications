{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Luigi\\\\Lambda\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login() {\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLogin = e => {\n    e.preventDefault();\n    setIsLoading(true);\n    axiosWithAuth().post('/api/login', user).then(res => {\n      console.log('login', res);\n      setIsLoading(false);\n      localStorage.setItem(\"authToken\", res.data.payload);\n      history.push(\"/colors\");\n    }).catch(error => {\n      setIsLoading(false);\n      console.log('Error', error);\n    });\n    setUser({});\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, isLoading ? React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Loading\") : React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Username:\", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: event => handleChange(event),\n    value: user.username,\n    placeholder: \"Username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Password:\", React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: event => handleChange(event),\n    value: user.password,\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Submit!\")));\n}\n\nexport default Login; // import React from \"react\";\n// import { axiosWithAuth } from \"../utils/axiosWithAuth\";\n// class Login extends React.Component {\n//   state = {\n//     credentials: {\n//       username: '',\n//       password: ''\n//     }\n//   };\n//   handleChange = e => {\n//     this.setState({\n//       credentials: {\n//         ...this.state.credentials,\n//         [e.target.name]: e.target.value\n//       }\n//     });\n//   };\n//   login = e => {\n//     e.preventDefault();\n//     axiosWithAuth()\n//       .post('/api/login', this.state.credentials)\n//       .then(res => {\n//         window.localStorage.setItem('token', res.data.payload);\n//         this.props.history.push('/colors');\n//       })\n//       .catch(err => console.log(err));\n//   };\n//   // make a post request to retrieve a token from the api\n//   // when you have handled the token, navigate to the BubblePage route\n//   render() {\n//     return (\n//       <div>\n//         <form onSubmit={this.login}>\n//           <input\n//             type=\"text\"\n//             name=\"username\"\n//             value={this.state.credentials.username}\n//             onChange={this.handleChange}\n//           />\n//           <input\n//             type=\"password\"\n//             name=\"password\"\n//             value={this.state.credentials.password}\n//             onChange={this.handleChange}\n//           />\n//           <button>Log in</button>\n//         </form>\n//       </div>\n//     );\n//   }\n// };\n// export default Login;","map":{"version":3,"sources":["C:/Users/Luigi/Lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axiosWithAuth","useHistory","Login","user","setUser","username","password","isLoading","setIsLoading","history","handleChange","e","target","name","value","handleLogin","preventDefault","post","then","res","console","log","localStorage","setItem","data","payload","push","catch","error","event"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axiosWithAuth from '../utils/axiosWithAuth';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nfunction Login() {\r\n    const [user, setUser] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    const handleChange = e => {\r\n        setUser({ ...user, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleLogin = e => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        axiosWithAuth()\r\n            .post('/api/login', user)\r\n            .then(res => {\r\n                console.log('login', res)\r\n                setIsLoading(false);\r\n                localStorage.setItem(\"authToken\", res.data.payload);\r\n                history.push(\"/colors\");\r\n            })\r\n            .catch(error => {\r\n                setIsLoading(false)\r\n                console.log('Error', error)\r\n            })\r\n        setUser({})\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            {isLoading ? (\r\n                <h2>Loading</h2>\r\n            ) : (\r\n                    <form onSubmit={handleLogin}>\r\n                        <label>\r\n                            Username:\r\n                        <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                onChange={event => handleChange(event)}\r\n                                value={user.username}\r\n                                placeholder='Username'\r\n                            />\r\n                        </label>\r\n                        <br />\r\n                        <label>\r\n                            Password:\r\n                        <input\r\n                                type='password'\r\n                                name=\"password\"\r\n                                onChange={event => handleChange(event)}\r\n                                value={user.password}\r\n                                placeholder='Password'\r\n                            />\r\n                        </label>\r\n                        <br />\r\n                        <button>Submit!</button>\r\n                    </form>\r\n                )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n\r\n\r\n// import React from \"react\";\r\n// import { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\n\r\n// class Login extends React.Component {\r\n//   state = {\r\n//     credentials: {\r\n//       username: '',\r\n//       password: ''\r\n//     }\r\n//   };\r\n\r\n//   handleChange = e => {\r\n//     this.setState({\r\n//       credentials: {\r\n//         ...this.state.credentials,\r\n//         [e.target.name]: e.target.value\r\n//       }\r\n//     });\r\n//   };\r\n\r\n//   login = e => {\r\n//     e.preventDefault();\r\n//     axiosWithAuth()\r\n//       .post('/api/login', this.state.credentials)\r\n//       .then(res => {\r\n//         window.localStorage.setItem('token', res.data.payload);\r\n//         this.props.history.push('/colors');\r\n//       })\r\n//       .catch(err => console.log(err));\r\n//   };\r\n\r\n//   // make a post request to retrieve a token from the api\r\n//   // when you have handled the token, navigate to the BubblePage route\r\n//   render() {\r\n//     return (\r\n//       <div>\r\n//         <form onSubmit={this.login}>\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"username\"\r\n//             value={this.state.credentials.username}\r\n//             onChange={this.handleChange}\r\n//           />\r\n//           <input\r\n//             type=\"password\"\r\n//             name=\"password\"\r\n//             value={this.state.credentials.password}\r\n//             onChange={this.handleChange}\r\n//           />\r\n//           <button>Log in</button>\r\n//         </form>\r\n//       </div>\r\n//     );\r\n//   }\r\n// };\r\n\r\n// export default Login;"]},"metadata":{},"sourceType":"module"}