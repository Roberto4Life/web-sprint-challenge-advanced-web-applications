{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Luigi\\\\Lambda\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\n// import React, { useState } from \"react\";\n// import axiosWithAuth from '../utils/axiosWithAuth';\n// import {useHistory} from 'react-router-dom';\n// function Login() {\n//     const [user, setUser] = useState({\n//         username: \"\",\n//         password: \"\"\n//     });\n//     const [isLoading, setIsLoading] = useState(false);\n//     const history = useHistory();\n//     const handleChange = e => {\n//         setUser({ ...user, [e.target.name]: e.target.value });\n//     };\n//     const handleLogin = e => {\n//         e.preventDefault();\n//         setIsLoading(true);\n//         axiosWithAuth()\n//             .post('/api/login', user)\n//             .then(res => {\n//                 console.log('login', res)\n//                 setIsLoading(false);\n//                 localStorage.setItem(\"authToken\", res.data.payload);\n//                 history.push(\"/colors\");\n//             })\n//             .catch(error => {\n//                 setIsLoading(false)\n//                 console.log('Error', error)\n//             })\n//         setUser({})\n//     }\n//     return (\n//         <div >\n//             {isLoading ? (\n//                 <h2>Loading</h2>\n//             ) : (\n//                     <form onSubmit={handleLogin}>\n//                         <label>\n//                             Username:\n//                         <input\n//                                 type=\"text\"\n//                                 name=\"username\"\n//                                 onChange={event => handleChange(event)}\n//                                 value={user.username}\n//                                 placeholder='Username'\n//                             />\n//                         </label>\n//                         <br />\n//                         <label>\n//                             Password:\n//                         <input\n//                                 type='password'\n//                                 name=\"password\"\n//                                 onChange={event => handleChange(event)}\n//                                 value={user.password}\n//                                 placeholder='Password'\n//                             />\n//                         </label>\n//                         <br />\n//                         <button>Submit!</button>\n//                     </form>\n//                 )}\n//         </div>\n//     );\n// }\n// export default Login;\nimport React from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: '',\n        password: ''\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.login = e => {\n      e.preventDefault();\n      axiosWithAuth().post('/api/login', this.state.credentials).then(res => {\n        window.localStorage.setItem('token', res.data.payload);\n        this.props.history.push('/colors');\n      }).catch(err => console.log(err));\n    };\n  }\n\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Log in\")));\n  }\n\n}\n\n;\nexport default Login;","map":{"version":3,"sources":["C:/Users/Luigi/Lambda/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","axiosWithAuth","Login","Component","state","credentials","username","password","handleChange","e","setState","target","name","value","login","preventDefault","post","then","res","window","localStorage","setItem","data","payload","props","history","push","catch","err","console","log","render"],"mappings":";AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,wBAA9B;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAClCC,KADkC,GAC1B;AACNC,MAAAA,WAAW,EAAE;AACXC,QAAAA,QAAQ,EAAE,EADC;AAEXC,QAAAA,QAAQ,EAAE;AAFC;AADP,KAD0B;;AAAA,SAQlCC,YARkC,GAQnBC,CAAC,IAAI;AAClB,WAAKC,QAAL,CAAc;AACZL,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACI,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAFf;AADD,OAAd;AAMD,KAfiC;;AAAA,SAiBlCC,KAjBkC,GAiB1BL,CAAC,IAAI;AACXA,MAAAA,CAAC,CAACM,cAAF;AACAd,MAAAA,aAAa,GACVe,IADH,CACQ,YADR,EACsB,KAAKZ,KAAL,CAAWC,WADjC,EAEGY,IAFH,CAEQC,GAAG,IAAI;AACXC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCH,GAAG,CAACI,IAAJ,CAASC,OAA9C;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD,OALH,EAMGC,KANH,CAMSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANhB;AAOD,KA1BiC;AAAA;;AA4BlC;AACA;AACAG,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKjB,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,WAAX,CAAuBC,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKE,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuBE,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKC,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF,CADF,CADF;AAmBD;;AAlDiC;;AAmDnC;AAED,eAAeN,KAAf","sourcesContent":["// import React, { useState } from \"react\";\r\n// import axiosWithAuth from '../utils/axiosWithAuth';\r\n// import {useHistory} from 'react-router-dom';\r\n\r\n// function Login() {\r\n//     const [user, setUser] = useState({\r\n//         username: \"\",\r\n//         password: \"\"\r\n//     });\r\n\r\n//     const [isLoading, setIsLoading] = useState(false);\r\n\r\n//     const history = useHistory();\r\n\r\n//     const handleChange = e => {\r\n//         setUser({ ...user, [e.target.name]: e.target.value });\r\n//     };\r\n\r\n//     const handleLogin = e => {\r\n//         e.preventDefault();\r\n//         setIsLoading(true);\r\n//         axiosWithAuth()\r\n//             .post('/api/login', user)\r\n//             .then(res => {\r\n//                 console.log('login', res)\r\n//                 setIsLoading(false);\r\n//                 localStorage.setItem(\"authToken\", res.data.payload);\r\n//                 history.push(\"/colors\");\r\n//             })\r\n//             .catch(error => {\r\n//                 setIsLoading(false)\r\n//                 console.log('Error', error)\r\n//             })\r\n//         setUser({})\r\n//     }\r\n\r\n//     return (\r\n//         <div >\r\n//             {isLoading ? (\r\n//                 <h2>Loading</h2>\r\n//             ) : (\r\n//                     <form onSubmit={handleLogin}>\r\n//                         <label>\r\n//                             Username:\r\n//                         <input\r\n//                                 type=\"text\"\r\n//                                 name=\"username\"\r\n//                                 onChange={event => handleChange(event)}\r\n//                                 value={user.username}\r\n//                                 placeholder='Username'\r\n//                             />\r\n//                         </label>\r\n//                         <br />\r\n//                         <label>\r\n//                             Password:\r\n//                         <input\r\n//                                 type='password'\r\n//                                 name=\"password\"\r\n//                                 onChange={event => handleChange(event)}\r\n//                                 value={user.password}\r\n//                                 placeholder='Password'\r\n//                             />\r\n//                         </label>\r\n//                         <br />\r\n//                         <button>Submit!</button>\r\n//                     </form>\r\n//                 )}\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default Login;\r\n\r\n\r\nimport React from \"react\";\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    credentials: {\r\n      username: '',\r\n      password: ''\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      credentials: {\r\n        ...this.state.credentials,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    });\r\n  };\r\n\r\n  login = e => {\r\n    e.preventDefault();\r\n    axiosWithAuth()\r\n      .post('/api/login', this.state.credentials)\r\n      .then(res => {\r\n        window.localStorage.setItem('token', res.data.payload);\r\n        this.props.history.push('/colors');\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.login}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.credentials.username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.credentials.password}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button>Log in</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}